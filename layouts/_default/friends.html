{{- define "head" -}}

<head>
  {{- partial "head.html" . -}}

  {{- .Scratch.Set "styleSrc" "styles/pages/friends.scss" -}}
  {{- .Scratch.Set "styleOut" "assets/dsr-blog_friends.min.css" -}}
  {{- partial "style.html" . -}}
</head>

{{- end -}}

{{- define "body" -}}

<body data-theme="auto" data-section="friends">
  {{- partial "theme.html" . -}}
  {{- partial "header.html" . -}}

  <main class="main">
    <div class="container">
      <div class="content">
        <div class="content__inner friends__list">
          {{- range .Site.Data.friends -}}
          <div class="card friends__item">
            <div class="friends__image image image__ratio-1x1">
              <a href="{{- .link | safeURL -}}" target="_blank" rel="noopener">
                <img class="lazyload" data-src='{{- printf "/images/friends/%s" .icon | safeURL | relURL -}}' />
              </a>
            </div>
            <div class="friends__box">
              <a class="friends__title" target="_blank" rel="noopener" href="{{- .link | safeURL -}}">
                <h2>{{- .title -}}</h2>
              </a>
              <span class="friends__desc">
                {{- .desc -}}
              </span>
            </div>
          </div>
          {{- end -}}
          <div class="card friends__add">
            <a href="https://github.com/dsrkafuu/dsr-blog/issues/new?assignees=&labels=friend&template=friend-request.md&title="
              target="_blank" rel="noopener external">
              友链交换
            </a>
          </div>
        </div>
      </div>
      <aside class="sidebar">
        <div class="sidebar__inner">
          <div class="sticky">
            {{- partial "info.html" . -}}
          </div>
        </div>
      </aside>
  </main>

  {{- partial "footer.html" . -}}

  <script defer src='{{- $.Scratch.Get "DEP_lazysizes" -}}'></script>
  {{- .Scratch.Set "scriptSrc" "js/base.js" -}}
  {{- .Scratch.Set "scriptOut" "assets/dsr-blog_base.min.js" -}}
  {{- partial "script.html" . -}}
</body>

{{- end -}}
