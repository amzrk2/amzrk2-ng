<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
{{- hugo.Generator -}}

{{- if .IsHome -}}
<title>{{- .Site.Title -}}</title>
{{- else -}}
<title>{{- .Title }} | {{ .Site.Title -}}</title>
{{- end -}}
{{- if .Params.author -}}
<meta name="author" content="{{- .Params.author -}}" />
{{- else -}}
<meta name="author" content="{{- .Site.Params.author -}}" />
{{- end -}}
{{- if .Params.description -}}
<meta name="description" content="{{- .Params.description -}}" />
{{- end -}}
{{- if .Params.tags -}}
<meta name="keywords" content='{{- delimit .Params.tags ", " -}}' />
{{- else if .Params.keywords -}}
<meta name="keywords" content='{{- delimit .Params.keywords ", " -}}' />
{{- end -}}

<link rel="apple-touch-icon" sizes="180x180" href='{{- "/apple-touch-icon.png" | relURL -}}' />
<link rel="icon" type="image/png" sizes="32x32" href='{{- "/favicon-32x32.png" | relURL -}}' />
<link rel="icon" type="image/png" sizes="16x16" href='{{- "/favicon-16x16.png" | relURL -}}' />
<link rel="shortcut icon" href='{{- "/favicon.ico" | relURL -}}' />
{{- partial "opengraph.html" . -}}

{{- if and (eq (getenv "NODE_ENV") "production") .Site.GoogleAnalytics -}}
<script async src="https://www.googletagmanager.com/gtag/js?id={{- .Site.GoogleAnalytics -}}"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', '{{- .Site.GoogleAnalytics -}}');
</script>
{{- end -}}

{{- .Scratch.Set "styleSrc" "styles/base.scss" -}}
{{- .Scratch.Set "styleOut" "assets/dsr-blog_base.min.css" -}}
{{- partial "style.html" . -}}

{{- .Scratch.Set "scriptSrc" "svg/iconfont.js" -}}
{{- .Scratch.Set "scriptOut" "assets/dsr-blog_iconfont.min.js" -}}
{{- .Scratch.Set "scriptAsync" true -}}
{{- partial "script.html" . -}}
