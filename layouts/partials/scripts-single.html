<script async src="https://cdn.jsdelivr.net/npm/prismjs@1.22.0/components/prism-core.min.js"></script>
<script async src="https://cdn.jsdelivr.net/npm/prismjs@1.22.0/plugins/autoloader/prism-autoloader.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/gitalk@1.7.0/dist/gitalk.min.js"></script>

{{ partial "scripts-common.html" . }}
{{ $filepath := "assets/dsr-ca_single.min.js" }}

{{ if eq (getenv "NODE_ENV") "production" }}
<script defer src="{{ $filepath | relURL }}"></script>
{{ else }}
{{ $options := (dict "targetPath" $filepath "minify" false "target" "esnext" "format" "iife") }}
{{ $built := resources.Get "js/single.js" | js.Build $options }}
<script defer src="{{ $built.RelPermalink }}"></script>
{{ end }}
